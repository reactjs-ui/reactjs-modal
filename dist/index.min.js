!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-addons-css-transition-group"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-addons-css-transition-group","react-dom"],t):"object"==typeof exports?exports.reactModal=t(require("react"),require("react-addons-css-transition-group"),require("react-dom")):e.reactModal=t(e.react,e["react-addons-css-transition-group"],e["react-dom"])}(this,function(e,t,o){return function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var o={};return t.m=e,t.c=o,t.i=function(e){return e},t.d=function(e,t,o){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="./",t(t.s=9)}([function(t,o){t.exports=e},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(3),r=n(i);t.default=r.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var o=e.style;["Webkit","Moz","Ms","ms"].forEach(function(e){void 0!==o[e+"TransformOrigin"]&&(o[e+"TransformOrigin"]=t)}),o.transformOrigin=t}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},c=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),p=o(0),d=n(p),f=o(7),m=n(f),y=o(6),v=n(y),h=o(4),b=n(h),T=o(5),g=n(T),P=!1,k=["left","right","top","bottom"],C=function(e){function t(e){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.scrollbarWidth=(0,v.default)(),o.onClose=o.onClose.bind(o),o.onMaskClick=o.onMaskClick.bind(o),o.onKeyDown=o.onKeyDown.bind(o),o.preventTouch=o.preventTouch.bind(o),o}return a(t,e),c(t,[{key:"componentDidMount",value:function(){this.toggleModal({})}},{key:"componentDidUpdate",value:function(e){this.toggleModal(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.preventTouchmove;e&&document.body.removeEventListener("touchmove",this.preventTouch,!1)}},{key:"toggleModal",value:function(e){var t=this,o=this.props,n=o.visible,i=o.animationPosition,r=o.animation,a=o.maskAnimation,l=o.transitionLeaveTimeout;if(n){if(!e.visible){this.refs.modal.focus(),this.addScrollingEffect();var u=this.refs.modal;if(r&&i){var c=(0,g.default)(u);s(u,i.x-c.left+"px "+(i.y-c.top)+"px")}else s(u,"")}}else r||a?setTimeout(function(){t.removeScrollingEffect()},l):this.removeScrollingEffect()}},{key:"addScrollingEffect",value:function(){if(!P){P=!0;var e=this.props,t=e.prefixCls,o=e.preventTouchmove,n=document.body.classList,i=document.documentElement.classList,r=t+"-open";n.add(r),i.add(r),this.bodyIsOverflowing=(0,b.default)(),this.bodyIsOverflowing&&(this.originalPaddingRight=document.body.style.paddingRight,document.body.style.paddingRight=this.scrollbarWidth+"px"),o&&document.body.addEventListener("touchmove",this.preventTouch,!1)}}},{key:"removeScrollingEffect",value:function(){if(P!==!1){P=!1;var e=this.props,t=e.prefixCls,o=e.preventTouchmove,n=e.hideAllModal;if(o&&document.body.removeEventListener("touchmove",this.preventTouch,!1),n){var i=document.body.classList,r=document.documentElement.classList,a=t+"-open";i.remove(a),r.remove(a),this.bodyIsOverflowing&&(document.body.style.paddingRight=this.originalPaddingRight)}}}},{key:"onClose",value:function(e){this.props.onClose(e)}},{key:"onMaskClick",value:function(e){var t=this.props,o=t.closable,n=t.maskClosable;e.target===e.currentTarget&&o&&n&&this.onClose(e)}},{key:"onKeyDown",value:function(e){var t=this.props,o=t.closable,n=t.keyboard;o&&n&&27===e.keyCode&&this.onClose(e)}},{key:"preventTouch",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"renderMask",value:function(e){var t=this.props,o=t.mask,n=t.prefixCls,i=t.visible,r=t.className,a=t.transitionAppearTimeout,s=t.transitionEnterTimeout,l=t.transitionLeaveTimeout,u=this.props.maskAnimation;if(o){var c=i?d.default.createElement("div",{className:n+"-mask "+(r||""),style:e?{zIndex:e}:null}):null;return u?("boolean"==typeof u&&(u=n+"-fade"),d.default.createElement(m.default,{component:"div",transitionAppear:!0,transitionName:u,transitionAppearTimeout:a,transitionEnterTimeout:s,transitionLeaveTimeout:l},c)):c}return null}},{key:"renderModalContent",value:function(e){var t=this.props,o=t.closable,n=t.prefixCls,i=t.title,r=t.footer,a=t.style,s=t.className,c=t.children,p=t.visible,f=t.bodyStyle,y=t.footerStyle,v=t.position,h=t.transitionAppearTimeout,b=t.transitionEnterTimeout,T=t.transitionLeaveTimeout,g=void 0;o&&(g=d.default.createElement("button",{onClick:this.onClose,className:n+"-close"},d.default.createElement("span",{className:n+"-close-x"})));var P=void 0;i&&(P=d.default.createElement("div",{className:n+"-header"},g,d.default.createElement("div",{className:n+"-title"},i)));var C=void 0;r&&(C=d.default.createElement("div",{className:n+"-footer",style:y},r));var O=u({},a);p&&(O.display=null);var E="";v&&("string"==typeof v?E=n+"-"+v:"object"===("undefined"==typeof v?"undefined":l(v))&&(O.position="absolute",Object.keys(v).forEach(function(e){k.indexOf(e)!==-1&&(O[e]=v[e])})));var M=p?d.default.createElement("div",{ref:"modal",tabIndex:"-1",className:n+" "+(s||"")+" "+E,style:e?{zIndex:e}:null,onKeyDown:this.onKeyDown,onClick:this.onMaskClick},d.default.createElement("div",{style:O,className:n+"-dialog"},d.default.createElement("div",{className:n+"-content"},P,d.default.createElement("div",{className:n+"-body",style:f},c),C))):null,w=this.props.animation;return w?("boolean"==typeof w&&(w=n+"-zoom"),d.default.createElement(m.default,{component:"div",transitionAppear:!0,transitionName:w,transitionAppearTimeout:h,transitionEnterTimeout:b,transitionLeaveTimeout:T},M)):M}},{key:"render",value:function(){var e=this.props.zIndex,t=void 0,o=void 0;return void 0!==e&&null!==e&&(t=e,o=e+1),d.default.createElement("div",null,this.renderMask(t),this.renderModalContent(o))}}]),t}(p.Component);C.defaultProps={prefixCls:"rc-modal",className:"",mask:!0,closable:!0,onClose:function(){},position:"center",transitionAppearTimeout:300,transitionEnterTimeout:300,transitionLeaveTimeout:300,hideAllModal:!0},C.propTypes={prefixCls:p.PropTypes.string,className:p.PropTypes.string,style:p.PropTypes.object,bodyStyle:p.PropTypes.object,footerStyle:p.PropTypes.object,zIndex:p.PropTypes.number,visible:p.PropTypes.bool,closable:p.PropTypes.bool,onClose:p.PropTypes.func,keyboard:p.PropTypes.bool,mask:p.PropTypes.bool,maskClosable:p.PropTypes.bool,position:p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.object]),animationPosition:p.PropTypes.object,animation:p.PropTypes.oneOfType([p.PropTypes.bool,p.PropTypes.string]),maskAnimation:p.PropTypes.oneOfType([p.PropTypes.bool,p.PropTypes.string]),transitionAppearTimeout:p.PropTypes.number,transitionEnterTimeout:p.PropTypes.number,transitionLeaveTimeout:p.PropTypes.number,title:p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.element]),footer:p.PropTypes.element,children:p.PropTypes.node,preventTouchmove:p.PropTypes.bool,hideAllModal:p.PropTypes.bool},t.default=C},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(0),c=n(u),p=o(8),d=n(p),f=o(2),m=n(f),y=function(e){function t(e){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={visible:e.visible},o}return a(t,e),l(t,[{key:"componentDidMount",value:function(){this.instanceModal()}},{key:"componentWillReceiveProps",value:function(e){"visible"in e&&this.setState({visible:e.visible})}},{key:"shouldComponentUpdate",value:function(e,t){return Boolean(this.state.visible||t.visible)}},{key:"componentDidUpdate",value:function(e){this.instanceModal()}},{key:"componentWillUnmount",value:function(){this.destoryModal()}},{key:"destoryModal",value:function(){this.modalContainer&&(d.default.unmountComponentAtNode(this.modalContainer),document.body.removeChild(this.modalContainer),this.modalContainer=null,this.modalUuid=null)}},{key:"instanceModal",value:function(){this.rendered&&(this.modalInstance=d.default.unstable_renderSubtreeIntoContainer(this,this.renderModal(),this.renderModalContainer()))}},{key:"renderModalContainer",value:function(){if(!this.modalContainer){var e=this.props.container;this.modalContainer=document.createElement("div"),e?e.appendChild(this.modalContainer):document.body.appendChild(this.modalContainer)}return this.modalContainer}},{key:"renderModal",value:function(){this.modalUuid||(this.modalUuid="modal"+t.modalUuid++);var e=this.props,o=s({},e,{visible:this.state.visible});return c.default.createElement(m.default,s({},o,{key:this.modalUuid}),this.props.children)}},{key:"render",value:function(){return this.rendered=this.rendered||this.state.visible,null}}]),t}(u.Component);y.modalUuid=1,y.propTypes={visible:u.PropTypes.bool,children:u.PropTypes.node,container:u.PropTypes.element},t.default=y},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}return document.body.clientWidth<e}},function(e,t){"use strict";function o(e){return n(e)?e:9===e.nodeType&&e.defaultView}function n(e){return null!=e&&e===e.window}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0,n=void 0,i=void 0,r=void 0;if(e)return e.getClientRects().length?(i=e.getBoundingClientRect(),i.width||i.height?(r=e.ownerDocument,n=o(r),t=r.documentElement,{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):{top:0,left:0}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.createElement("div");Object.keys(o).forEach(function(t){e.style[t]=o[t]}),document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t};var o={position:"absolute",top:"-9999px",width:"50px",height:"50px",overflow:"scroll"}},function(e,o){e.exports=t},function(e,t){e.exports=o},function(e,t,o){e.exports=o(1)}])});